<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport"    content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author"      content="Sergey Pozhilov (GetTemplate.com)">
	
	<title>Smart Devices Project - Portoflio - Kilian Desportes</title>

	<link rel="shortcut icon" href="assets/images/gt_favicon.png">
	
	<link rel="stylesheet" media="screen" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- Custom styles for our template -->
	<link rel="stylesheet" href="assets/css/bootstrap-theme.css" media="screen" >
	<link rel="stylesheet" href="assets/css/main.css">


	<!-- Custom styles for our template -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

	<script src="assets/js/html5shiv.js"></script>
	<script src="assets/js/respond.min.js"></script>
	<script src="assets/js/script_perso.js"></script>
</head>

<body>
    <!-- Fixed navbar -->
	<div class="navbar navbar-inverse navbar-fixed-top headroom" >
		<div class="container">
			<div class="navbar-header">
				<!-- Button for smallest screens -->
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
				<a class="navbar-brand" href="index.html">Kilian Desportes - Portfolio</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav pull-right">
					<li><a href="index.html">Home</a></li>
					<li><a href="about.html">About me</a></li>
					<li><a href="works.html">Work page</a></li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div> 
	<!-- /.navbar -->

	<script>
	    
	</script>

	<header id="head" class="secondary"></header>

	<!-- container -->
	<div class="container">
		
		<ol class="breadcrumb">
			<li><a href="index.html">Home</a></li>
			<li class="active">Smart Devices</li>
		</ol>

		<div class="row">
			
			<!-- Sidebar -->
			<aside class="col-md-3 sidebar sidebar-left">

				<div class="row widget">
					<div class="col-xs-12">
						<h4>Summary</h4>
						<p align="justify">
							The goal of this project was to follow the entire creation process of a sensor and its deployment. From the manufacturing to the usage into an IoT environment.<br><br>
							During this project, we have created our own nano-particles sensor, then we have used in to create a complete sensor usable into an IoT environment.<br>
							So we had to 'surround' this sensor with several components to allow it to be usable by a card, which will then be able to communicate 
							the different measurements made by this sensor.<br>
							This means we had to create a PCB to integrate the sensor, then integrate a communication module, allowing the use of LoRa protocol, to send this data.<br>
							We have also created a signal adaptation stage to allow our PCB to retrieve the correct information at the output of our sensor. <br>
							At the very end of the project, we also used Node-Red to create a really simple GUI to to allow the user of the sensor to have access 
							in a simple and user-friendly way to the different measurements made by the sensor.<br><br>

							<img src="assets/images/bob.png" alt="" class="img-rounded center-block">

						</p>
					</div>
				</div>
			</aside>
			<!-- /Sidebar -->

			<!-- Article main content -->
			<article class="col-md-9 maincontent">
				<header class="page-header">
					<h1 class="page-title">Smart Devices</h1>
				</header>

				<h2>Sensor Manufacturing at AIME</h2>

				A AJOUTER !!<br><br>
				The work to be done for this training-unit being the sensor datasheet, it is accessible by clicking here : 
				<a href="assets/cv.kilian.desportes.pdf" target="_blank" class="btn btn-primary btn-xs">See Datasheet ></a>
				<h3>WO<sub>3</sub> nanoparticle synthesis</h3>

				<p align="justify">
					
					We first prepared the solution containing the <b>tungsten trioxide nanoparticles</b> (WO<sub>3</sub>). 
					We were able to <b>synthesize</b> these molecules from a chemical reaction, all in an aqueous medium, to <b>limit the risks</b> associated with nanoparticles 
					(both dust and dispersion in the water network by the uncontrolled solution).<br><br>
					We followed a protocol which aimed, in addition to producing these molecules of tungsten trioxide, to <b>limit the ecological impact</b> of this synthesis, mainly by <b>limiting the waste</b> related to this procedure (in particular by optimizing the fact that several groups carry out the same procedure, and thus limit to the maximum the rinsing (and thus the generation of waste related to this rinsing (dirty water) of the tools).<br><br>
					
					The whole procedure to create the nanoparticles in the solution is presented here :

					<button id="btnSynth" class="btn btn-primary btn-xs" onclick="affichManipul('btnSynth','divSynth','procedure')">
						Show procedure
					</button>
					<div id="divSynth" style="display: none"><br>
						<img src="assets/images/wo3_synth.PNG" alt="" class="img-rounded center-block">
						<hr size="10" color="black">
					</div>

					Once these nanoparticles were created, it was necessary to organize them in the form of <b>nanotubes</b> to be able to deposit them on the interdigital combs on the sensor (this will be developed in the next part).<br><br>

					The whole procedure to make the nanoparticles growth is presented here :

					<button id="btnGrowth" class="btn btn-primary btn-xs" onclick="affichManipul('btnGrowth','divGrowth','procedure')">
						Show procedure
					</button>
					<div id="divGrowth" style="display: none"><br>
						<img src="assets/images/wo3_synth.PNG" alt="" class="img-rounded center-block">
						<hr size="10" color="black">
					</div>


				</p>

				<h3>Elaboration of the microelectronic chip</h3>
				
				<p align="justify">

					<img src="assets/images/capteur.PNG" alt="" class="img-rounded pull-right" width="200">

					We then had to proceed with the creation of the sensor chip itself, the one that would host our solution containing the nanoparticles.
					The sensor is composed of 3 parts: a <b>heating resistor</b> made of doped poly-silicon (2-7 on the image), an <b>aluminium resistor</b> (4-5 on the image) for heating or measurement, and two <b>interdigital combs</b> (one on each side, 1-3 and 6-8 on the image) which will receive the layer of nanoparticles and which will then become our <b>resistors sensitive</b> to the gaseous environment (which will therefore make the gas sensor work).
					<br><br>
					Several steps in the chip creation process had already been completed when we recovered the chip, such as <b>polysilicon deposition</b>, <b>doping</b> and <b>etching</b>, <b>dry oxide deposition</b> and <b>photo-etching</b>, and <b>metallization</b>.<br><br>

					
					<img src="assets/images/photogravure_debut.PNG" alt="" class="img-rounded pull-left" width="150">
					So the chip had this cut when we started working on it.<br><br>
					We had to do the <b></b>metal etching, that is to say, remove, by <b></b>photo-engraving, the aluminium where it is not necessary (to obtain the comb shapes we wanted). 
					<img src="assets/images/photogravure_final.PNG" alt="" class="img-rounded pull-right" width="150">
					We will use a <b>resin that reacts to light</b> and will <b>attack the aluminum</b> in places where we do not want it. We will <b>protect</b> the parts to keep with an <b>'optical' mask</b> that will block the light in these places. 
					We will then <b>chemically remove</b> the resin from the remaining areas. 
					<br><br>
					The whole procedure for the metal gravure is presented here :

					<button id="btnMetalG" class="btn btn-primary btn-xs" onclick="affichManipul('btnMetalG','divMetalG','procedure')">
						Show procedure
					</button>
					<div id="divMetalG" style="display: none"><br>
						<img src="assets/images/gravure_metal.PNG" alt="" class="img-rounded center-block">
						<hr size="10" color="black">
					</div>
					<br>
					The <b>metal annealing</b> will then be made by putting the chip into a 400°C oven during 20mn.<br><br>

					The microelectronic chip is now ready to <b>host the nanoparticle solution</b>.
				</p>

				<h3>Integration of the sensitive layer of nanoparticles on the chip</h3>

				<p align="justify">


					<img src="assets/images/wedgebonding.PNG" alt="" class="img-rounded pull-left" width="150">

					For the integration of the nanoparticles into the sensor, we will use <b>dielectrophoresis</b>.<br>

					Before that, however, we need to make a <b>wedge bonding</b> with aluminum-silicon wires, which will allow us to integrate our chip into a <b>larger sensor</b>, so that we can easily handle it (especially via <b>pins</b> that can be <b>electrically connected easily</b>).<br>
					
					Because of the high precision (wires of about 25 micrometers in diameter) of the handling, it is a speaker from the AIME laboratory who realized for us this wedge bonding.<br>

					The result can be seen on the left image.<br><br>

					<img src="assets/images/dielectrophoresis.PNG" alt="" class="img-rounded pull-right" width="150">
					
					Once the different pins were connected and accessible, we were able to perform <b>dielectrophoresis</b>.<br>

					We had to connect the pins of the interdigital comb, then deposit a drop of our <b>nanoparticle solution</b> on the sensor.We then had to pass an <b>electric current</b> for one minute.

					Our particles will, thanks to the <b>dielectrophoretic force</b>, integrate on our interdigital comb, connected to the electric current.<br>

					Then, after the minute but still with the current, we had to rinse the sensor with water, and absorb, with a piece of dry tissue, the excess rinsing water. Once this is finished, 
					we can cut off the electric current.<br><br>

					The whole procedure for the dielectrophoresis is presented here :
					<button id="btnDielec" class="btn btn-primary btn-xs" onclick="affichManipul('btnDielec','divDielec','procedure')">
						Show procedure
					</button>
					<div id="divDielec" style="display: none"><br>
						<img src="assets/images/dielectrophoresis_protocol.PNG" alt="" class="img-rounded center-block">
						<hr size="10" color="black">
					</div>
				</p>

				<br>
				<h3>Electrical characterization of the sensor under controlled atmosphere</h3>

				<p align="justify">

					Once the chip was completed and the nanoparticles integrated into it, we had to <b>characterize</b> it electrically. First, we took measurements in a <b>conventional</b> environment 
					to find out the <b>resistances</b> of the different sensor elements.<br><br>
					
					The procedure to carry out these measurements is detailed here: 
					<button id="btnCarac1" class="btn btn-primary btn-xs" onclick="affichManipul('btnCarac1','divCarac1','procedure')">
						Show procedure
					</button>
					<div id="divCarac1" style="display: none"><br>
						<img src="assets/images/characterization_base.PNG" alt="" class="img-rounded center-block">
						<hr size="10" color="black">
					</div>

					In a second step, we had to measure the <b>variation</b> of this resistance when the environment of the sensor contains <b>gases</b> that react with these 
					nanoparticles in order to know how our sensor works.<br>

					For this, we followed a <b>characterization</b> procedure in a <b></b>controlled environment, with alternating <b>pure synthetic air</b> and air loaded 
					with gas (<b>ethanol</b> then <b>ammonium</b>).<br>
					
					The procedure for characterization in <b>controlled</b> atmosphere is this one:

					<img src="assets/images/characterization_protocol.PNG" alt="" class="img-rounded center-block" width="600">

					Thanks to this characterization in a controlled atmosphere, we were able to observe the <b>resistance variations</b> according to the presence of this or that gas, 
					as well as the capacity of our sensor to <b>regenerate</b> between two measurements.<br>

					We can see, on the graph below, that the presence of ethanol causes less variation than ammonia, which will take longer to regenerate.

					<img src="assets/images/characterization_250c.PNG" alt="" class="img-rounded center-block" width="600">

					Our sensor is now, after this characterization procedure, <b>ready</b> to be used, as we are sure that <b>it is working</b> and <b>how it is working</b>.
				</p>

				<h2>Making our sensor a Smart Device for IoT</h2>

				<h3>Design of the sensor's signal conditioner</h3>

				<p align="justify">

					In order to be able to integrate our sensor to an electronic board, we had to realize a signal conditioner. This one was going to allow to modify the current to increase it because of the great resistance that represents our gaz sensor.<br>
					<br>
					This great resistance made the sensor unusable with an Arduino board, a board we have to use for the communication part, developed later. So we had to adapt the current, thanks to this circuit:<br>
					<br>
					<img src="assets/images/adaptivecircuit.png" alt="" class="img-rounded center-block" width="95%">

				</p>

				<h3>Design of the sensor's shield</h3>

				<p align="justify">

					Once this adaptor circuit had been designed and tested using simulation tools, we had to build a shield that would accommodate all the elements of our final architecture. We will therefore create this shield thanks to KiCad. We have integrated both this circuit and the chip used to communicate the data (RN2483 chip) and to connect our gas sensor to the shield.

					<img src="" alt="" class="img-rounded center-block" width="">

				</p>

				<h3>Arduino Uno for LoRa communication and sensor integration</h3>

				<p align="justify">

					We then became interested in the communication we needed to put in place to allow our sensor to be used in an IoT environment. We used an arduino for the 'test' phase and a RN2483 chip for the communication itself. We had to solder this chip to allow it to be connected to our card (at the beginning, arduino, then, at the end, our own shield). We then used arduino code and the TTN library (TheThingsNetwork) made our card communicate with a given gateway. We were able to send measurements every X seconds and retrieve them from the TTN site.<br>
					<br>
					<img src="assets/images/DataReception.PNG" alt="" class="img-rounded center-block" width="80%">
					<br>
					We also had to take into account the energy consumption of our system, and therefore put the various components on standby when we did not need to use them, in particular the antenna during the measurement phases (and therefore non-transmission), as well as putting the sensor on standby during the transmission phases, and therefore non-measurement.<br>
					<br>
					The arduino code allowing to realize the measurement and the sending with a reduced energy consumption can be visualized <a href="assets/reports/data_sensor.ino" target="_blank">here</a>.

				</p>

				<h3>Node-Red Human-machine interface</h3>

				<p align="justify">

					Once all the measurement and communication to the gateway was done, we had to realize the 'interface' part. We used node-red to create a dashboard that allows us to record the measurements and display them in a simple interface.<br>
					So, on node-red, we realized the flow we wanted to make, starting from a payload receptiond (ttn uplink), a 'decoding' function, and then a display in the dashboard. The 'msg.payload' is only present for debugging purposes.<br>
					<br>
					<img src="assets/images/NodeRedFlow.PNG" alt="" class="img-rounded center-block" width="90%">
					<br>
					The function we see in the node-red stream is a decoding function. It transforms the data received as input into usable data by a simple conversion of the payload from hexadecimal to decimal. This operation is performed for each payload arriving in Node-Red.<br>
					<br>
					<img src="assets/images/PayloadFormat.PNG" alt="" class="img-rounded center-block" width="90%">
					<br>
					The dashboard, once the payload has been converted, simply displays the information related to the gas sensor. Here we can see the last measurement taken as well as its evolution over a period of time. <br>
					<br>
					<img src="assets/images/CaptureDashboard.PNG" alt="" class="img-rounded center-block" width="">

				</p>
			
				<h2>Developped skills and knowledge</h2>
				
				<h3>Introduction to Sensors</h3>
				<button id="btnSensor" class="btn btn-primary btn-sm" onclick="affichManipul('btnSensor','divSensor','skills')">
					Show skills
				</button>
				<div id="divSensor" style="display: none"><br>

				<ul><li>Understand basic notions of sensors, data acquisition: physics, electronics and metrology point of view
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>


				<p align="justify">
					
				</p>

				<br><br><ul><li>Be able to manufacture a nano-particles sensor using micro-electronics tools: chemical synthesis, assembly, testing
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>


				<p align="justify">
					
				</p>

				<br><br><ul><li>Be able to design the datasheet of the sensor manufactured
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>
				

				<p align="justify">
					
				</p>

				</div>
				<hr size="10" color="black">

				<h3>Microcontrollers and Open Source Hardware</h3>
				<button id="btnMicro" class="btn btn-primary btn-sm" onclick="affichManipul('btnMicro','divMicro','skills')">
					Show skills
				</button>
				<div id="divMicro" style="display: none"><br>

				<br><br><ul><li>Understand microcontroller archictecture and how to use them
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>

				<p align="justify">
					
				</p>

				<br><br><ul><li>Be able to design data acquisition system (sensor, conditioner, microcontroller) with respect to the application
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>

				<p align="justify">
					
				</p>

				<br><br><ul><li>Be able to design the electronic circuit of a sensor’s signal conditioner (design + simulation)
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>

				<p align="justify">
					
				</p>

				<br><br><ul><li>Be able to design a shield to accommodate the gas sensor
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>

				<p align="justify">
					
				</p>

				<br><br><ul><li>Be abe to design the sofware to use the gas sensor and its HMI
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>

				<p align="justify">
					
				</p>
				
				<br><br><ul><li>Be able to combine all of the above mentioned components into a smart device
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
					<i class="fa fa-check fa-5"></i>
				</li></ul>

				<p align="justify">
					
				</p>

			</div>
			<hr size="10" color="black">
				

			</article>
			<!-- /Article -->

		</div>
	</div>	<!-- /container -->

	<footer id="footer" class="top-space">

		<div class="footer1">
			<div class="container">
				<div class="row">
					
					<div class="col-md-3 widget">
						<h3 class="widget-title">Contact</h3>
						<div class="widget-body">
							<p>+33 7 81 38 13 91<br>
								<a href="mailto:#">kilian.desportes@gmail.com</a><br>
							</p>	
						</div>
					</div>

				</div> <!-- /row of widgets -->
			</div>
		</div>

		<div class="footer2">
			<div class="container">
				<div class="row">
					
					<div class="col-md-6 widget">
						<div class="widget-body">
							<p class="simplenav">
								<a href="#">Home</a> | 
								<a href="about.html">About</a>
							</p>
						</div>
					</div>

					<div class="col-md-6 widget">
						<div class="widget-body">
							<p class="text-right">
								Copyright &copy; 2020, Kilian Desportes. Designed by <a href="http://gettemplate.com/" rel="designer">gettemplate</a> 
							</p>
						</div>
					</div>

				</div> <!-- /row of widgets -->
			</div>
		</div>
		




	<!-- JavaScript libs are placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	<script src="assets/js/headroom.min.js"></script>
	<script src="assets/js/jQuery.headroom.min.js"></script>
	<script src="assets/js/template.js"></script>
</body>
</html>